{"version":3,"sources":["@wordpress/edit-post/src/components/layout/popover-wrapper.js"],"names":["withConstrainedTabbing","withFocusReturn","withFocusOutside","Component","ESCAPE","stopPropagation","event","DetectOutside","props","onFocusOutside","children","FocusManaged","PopoverWrapper","onClose","className","maybeClose","keyCode"],"mappings":";;;;;;;;;;;AAAA;;;AAGA,SACCA,sBADD,EAECC,eAFD,EAGCC,gBAHD,QAIO,uBAJP;AAKA,SAASC,SAAT,QAA0B,oBAA1B;AACA,SAASC,MAAT,QAAuB,qBAAvB;;AAEA,SAASC,eAAT,CAA0BC,KAA1B,EAAkC;AACjCA,EAAAA,KAAK,CAACD,eAAN;AACA;;AAED,IAAME,aAAa,GAAGL,gBAAgB;AAAA;;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA,uCAEhBI,KAFgB,EAER;AAC3B,WAAKE,KAAL,CAAWC,cAAX,CAA2BH,KAA3B;AACA;AAJmC;AAAA;AAAA,6BAM3B;AACR,aAAO,KAAKE,KAAL,CAAWE,QAAlB;AACA;AARmC;;AAAA;AAAA,EACvBP,SADuB,EAAtC;AAYA,IAAMQ,YAAY,GAAGX,sBAAsB,CAC1CC,eAAe,CAAE;AAAA,MAAIS,QAAJ,QAAIA,QAAJ;AAAA,SAAoBA,QAApB;AAAA,CAAF,CAD2B,CAA3C;AAIA,eAAe,SAASE,cAAT,QAA4D;AAAA,MAAjCC,OAAiC,SAAjCA,OAAiC;AAAA,MAAxBH,QAAwB,SAAxBA,QAAwB;AAAA,MAAdI,SAAc,SAAdA,SAAc;;AAC1E;AACA,MAAMC,UAAU,GAAG,SAAbA,UAAa,CAAET,KAAF,EAAa;AAC/B;AACA,QAAKA,KAAK,CAACU,OAAN,KAAkBZ,MAAlB,IAA4BS,OAAjC,EAA2C;AAC1CP,MAAAA,KAAK,CAACD,eAAN;AACAQ,MAAAA,OAAO;AACP;AACD,GAND,CAF0E,CAU1E;AACA;;AACA;;;AACA,SACC;AACC,IAAA,SAAS,EAAGC,SADb;AAEC,IAAA,SAAS,EAAGC,UAFb;AAGC,IAAA,WAAW,EAAGV;AAHf,KAKC,cAAC,aAAD;AAAe,IAAA,cAAc,EAAGQ;AAAhC,KACC,cAAC,YAAD,QAAgBH,QAAhB,CADD,CALD,CADD;AAWA;AACA","sourcesContent":["/**\n * WordPress dependencies\n */\nimport {\n\twithConstrainedTabbing,\n\twithFocusReturn,\n\twithFocusOutside,\n} from '@wordpress/components';\nimport { Component } from '@wordpress/element';\nimport { ESCAPE } from '@wordpress/keycodes';\n\nfunction stopPropagation( event ) {\n\tevent.stopPropagation();\n}\n\nconst DetectOutside = withFocusOutside(\n\tclass extends Component {\n\t\thandleFocusOutside( event ) {\n\t\t\tthis.props.onFocusOutside( event );\n\t\t}\n\n\t\trender() {\n\t\t\treturn this.props.children;\n\t\t}\n\t}\n);\n\nconst FocusManaged = withConstrainedTabbing(\n\twithFocusReturn( ( { children } ) => children )\n);\n\nexport default function PopoverWrapper( { onClose, children, className } ) {\n\t// Event handlers\n\tconst maybeClose = ( event ) => {\n\t\t// Close on escape\n\t\tif ( event.keyCode === ESCAPE && onClose ) {\n\t\t\tevent.stopPropagation();\n\t\t\tonClose();\n\t\t}\n\t};\n\n\t// Disable reason: this stops certain events from propagating outside of the component.\n\t//   - onMouseDown is disabled as this can cause interactions with other DOM elements\n\t/* eslint-disable jsx-a11y/no-static-element-interactions */\n\treturn (\n\t\t<div\n\t\t\tclassName={ className }\n\t\t\tonKeyDown={ maybeClose }\n\t\t\tonMouseDown={ stopPropagation }\n\t\t>\n\t\t\t<DetectOutside onFocusOutside={ onClose }>\n\t\t\t\t<FocusManaged>{ children }</FocusManaged>\n\t\t\t</DetectOutside>\n\t\t</div>\n\t);\n\t/* eslint-enable jsx-a11y/no-static-element-interactions */\n}\n"]}