{"version":3,"sources":["@wordpress/edit-post/src/components/header/fullscreen-mode-close/index.js"],"names":["get","useSelect","Button","Icon","__","addQueryArgs","wordpress","FullscreenModeClose","showTooltip","select","getCurrentPostType","isFeatureActive","isResolving","getEntityRecord","getPostType","siteData","undefined","isActive","isRequestingSiteIcon","postType","siteIconUrl","site_icon_url","buttonIcon","post_type","slug"],"mappings":";;AAAA;;;AAGA,SAASA,GAAT,QAAoB,QAApB;AAEA;;;;AAGA,SAASC,SAAT,QAA0B,iBAA1B;AACA,SAASC,MAAT,EAAiBC,IAAjB,QAA6B,uBAA7B;AACA,SAASC,EAAT,QAAmB,iBAAnB;AACA,SAASC,YAAT,QAA6B,gBAA7B;AACA,SAASC,SAAT,QAA0B,kBAA1B;;AAEA,SAASC,mBAAT,OAAgD;AAAA,MAAhBC,WAAgB,QAAhBA,WAAgB;;AAAA,mBACmBP,SAAS,CAC1E,UAAEQ,MAAF,EAAc;AAAA,kBACkBA,MAAM,CAAE,aAAF,CADxB;AAAA,QACLC,kBADK,WACLA,kBADK;;AAAA,mBAEeD,MAAM,CAAE,gBAAF,CAFrB;AAAA,QAELE,eAFK,YAELA,eAFK;;AAAA,mBAGWF,MAAM,CAAE,WAAF,CAHjB;AAAA,QAGLG,WAHK,YAGLA,WAHK;;AAAA,mBAI4BH,MAAM,CAAE,MAAF,CAJlC;AAAA,QAILI,eAJK,YAILA,eAJK;AAAA,QAIYC,WAJZ,YAIYA,WAJZ;;AAKb,QAAMC,QAAQ,GACbF,eAAe,CAAE,MAAF,EAAU,gBAAV,EAA4BG,SAA5B,CAAf,IAA0D,EAD3D;AAGA,WAAO;AACNC,MAAAA,QAAQ,EAAEN,eAAe,CAAE,gBAAF,CADnB;AAENO,MAAAA,oBAAoB,EAAEN,WAAW,CAAE,MAAF,EAAU,iBAAV,EAA6B,CAC7D,MAD6D,EAE7D,gBAF6D,EAG7DI,SAH6D,CAA7B,CAF3B;AAONG,MAAAA,QAAQ,EAAEL,WAAW,CAAEJ,kBAAkB,EAApB,CAPf;AAQNU,MAAAA,WAAW,EAAEL,QAAQ,CAACM;AARhB,KAAP;AAUA,GAnByE,EAoB1E,EApB0E,CAD5B;AAAA,MACvCJ,QADuC,cACvCA,QADuC;AAAA,MAC7BC,oBAD6B,cAC7BA,oBAD6B;AAAA,MACPC,QADO,cACPA,QADO;AAAA,MACGC,WADH,cACGA,WADH;;AAwB/C,MAAK,CAAEH,QAAF,IAAc,CAAEE,QAArB,EAAgC;AAC/B,WAAO,IAAP;AACA;;AAED,MAAIG,UAAU,GAAG,cAAC,IAAD;AAAM,IAAA,IAAI,EAAC,MAAX;AAAkB,IAAA,IAAI,EAAGhB;AAAzB,IAAjB;;AAEA,MAAKc,WAAL,EAAmB;AAClBE,IAAAA,UAAU,GACT;AACC,MAAA,GAAG,EAAGlB,EAAE,CAAE,WAAF,CADT;AAEC,MAAA,SAAS,EAAC,2CAFX;AAGC,MAAA,GAAG,EAAGgB;AAHP,MADD;AAOA,GARD,MAQO,IAAKF,oBAAL,EAA4B;AAClCI,IAAAA,UAAU,GAAG,IAAb;AACA;;AAED,SACC,cAAC,MAAD;AACC,IAAA,SAAS,EAAC,0CADX;AAEC,IAAA,IAAI,EAAGjB,YAAY,CAAE,UAAF,EAAc;AAChCkB,MAAAA,SAAS,EAAEJ,QAAQ,CAACK;AADY,KAAd,CAFpB;AAKC,IAAA,KAAK,EAAGxB,GAAG,CAAEmB,QAAF,EAAY,CAAE,QAAF,EAAY,YAAZ,CAAZ,EAAwCf,EAAE,CAAE,MAAF,CAA1C,CALZ;AAMC,IAAA,WAAW,EAAGI;AANf,KAQGc,UARH,CADD;AAYA;;AAED,eAAef,mBAAf","sourcesContent":["/**\n * External dependencies\n */\nimport { get } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { Button, Icon } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { addQueryArgs } from '@wordpress/url';\nimport { wordpress } from '@wordpress/icons';\n\nfunction FullscreenModeClose( { showTooltip } ) {\n\tconst { isActive, isRequestingSiteIcon, postType, siteIconUrl } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getCurrentPostType } = select( 'core/editor' );\n\t\t\tconst { isFeatureActive } = select( 'core/edit-post' );\n\t\t\tconst { isResolving } = select( 'core/data' );\n\t\t\tconst { getEntityRecord, getPostType } = select( 'core' );\n\t\t\tconst siteData =\n\t\t\t\tgetEntityRecord( 'root', '__unstableBase', undefined ) || {};\n\n\t\t\treturn {\n\t\t\t\tisActive: isFeatureActive( 'fullscreenMode' ),\n\t\t\t\tisRequestingSiteIcon: isResolving( 'core', 'getEntityRecord', [\n\t\t\t\t\t'root',\n\t\t\t\t\t'__unstableBase',\n\t\t\t\t\tundefined,\n\t\t\t\t] ),\n\t\t\t\tpostType: getPostType( getCurrentPostType() ),\n\t\t\t\tsiteIconUrl: siteData.site_icon_url,\n\t\t\t};\n\t\t},\n\t\t[]\n\t);\n\n\tif ( ! isActive || ! postType ) {\n\t\treturn null;\n\t}\n\n\tlet buttonIcon = <Icon size=\"36px\" icon={ wordpress } />;\n\n\tif ( siteIconUrl ) {\n\t\tbuttonIcon = (\n\t\t\t<img\n\t\t\t\talt={ __( 'Site Icon' ) }\n\t\t\t\tclassName=\"edit-post-fullscreen-mode-close_site-icon\"\n\t\t\t\tsrc={ siteIconUrl }\n\t\t\t/>\n\t\t);\n\t} else if ( isRequestingSiteIcon ) {\n\t\tbuttonIcon = null;\n\t}\n\n\treturn (\n\t\t<Button\n\t\t\tclassName=\"edit-post-fullscreen-mode-close has-icon\"\n\t\t\thref={ addQueryArgs( 'edit.php', {\n\t\t\t\tpost_type: postType.slug,\n\t\t\t} ) }\n\t\t\tlabel={ get( postType, [ 'labels', 'view_items' ], __( 'Back' ) ) }\n\t\t\tshowTooltip={ showTooltip }\n\t\t>\n\t\t\t{ buttonIcon }\n\t\t</Button>\n\t);\n}\n\nexport default FullscreenModeClose;\n"]}