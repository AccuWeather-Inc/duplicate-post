{"version":3,"sources":["@wordpress/block-editor/src/components/block-selection-clearer/index.js"],"names":["useSelect","useDispatch","useBlockSelectionClearer","hasSelection","select","hasSelectedBlock","hasMultiSelection","clearSelectedBlock","event","target","currentTarget","BlockSelectionClearer","props","onFocus"],"mappings":";;;AAAA;;;AAGA,SAASA,SAAT,EAAoBC,WAApB,QAAuC,iBAAvC;;AAEA,SAASC,wBAAT,GAAoC;AACnC,MAAMC,YAAY,GAAGH,SAAS,CAAE,UAAEI,MAAF,EAAc;AAAA,kBACGA,MAAM,CACrD,mBADqD,CADT;AAAA,QACrCC,gBADqC,WACrCA,gBADqC;AAAA,QACnBC,iBADmB,WACnBA,iBADmB;;AAK7C,WAAOD,gBAAgB,MAAMC,iBAAiB,EAA9C;AACA,GAN6B,CAA9B;;AADmC,qBAQJL,WAAW,CAAE,mBAAF,CARP;AAAA,MAQ3BM,kBAR2B,gBAQ3BA,kBAR2B;;AAUnC,SAAO,UAAEC,KAAF,EAAa;AACnB,QAAKA,KAAK,CAACC,MAAN,KAAiBD,KAAK,CAACE,aAAvB,IAAwCP,YAA7C,EAA4D;AAC3DI,MAAAA,kBAAkB;AAClB;AACD,GAJD;AAKA;;AAED,eAAe,SAASI,qBAAT,CAAgCC,KAAhC,EAAwC;AACtD,MAAMC,OAAO,GAAGX,wBAAwB,EAAxC;AACA,SAAO;AAAK,IAAA,QAAQ,EAAG,CAAC,CAAjB;AAAqB,IAAA,OAAO,EAAGW;AAA/B,KAA8CD,KAA9C,EAAP;AACA","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { useSelect, useDispatch } from '@wordpress/data';\n\nfunction useBlockSelectionClearer() {\n\tconst hasSelection = useSelect( ( select ) => {\n\t\tconst { hasSelectedBlock, hasMultiSelection } = select(\n\t\t\t'core/block-editor'\n\t\t);\n\n\t\treturn hasSelectedBlock() || hasMultiSelection();\n\t} );\n\tconst { clearSelectedBlock } = useDispatch( 'core/block-editor' );\n\n\treturn ( event ) => {\n\t\tif ( event.target === event.currentTarget && hasSelection ) {\n\t\t\tclearSelectedBlock();\n\t\t}\n\t};\n}\n\nexport default function BlockSelectionClearer( props ) {\n\tconst onFocus = useBlockSelectionClearer();\n\treturn <div tabIndex={ -1 } onFocus={ onFocus } { ...props } />;\n}\n"]}