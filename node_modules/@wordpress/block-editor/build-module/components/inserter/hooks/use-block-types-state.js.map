{"version":3,"sources":["@wordpress/block-editor/src/components/inserter/hooks/use-block-types-state.js"],"names":["createBlock","createBlocksFromInnerBlocksTemplate","useSelect","useBlockTypesState","rootClientId","onInsert","select","getInserterItems","getCategories","getCollections","categories","collections","items","onSelectItem","name","initialAttributes","innerBlocks","insertedBlock"],"mappings":"AAAA;;;AAGA,SACCA,WADD,EAECC,mCAFD,QAGO,mBAHP;AAIA,SAASC,SAAT,QAA0B,iBAA1B;AAEA;;;;;;;;AAOA,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,CAAEC,YAAF,EAAgBC,QAAhB,EAA8B;AAAA,mBACbH,SAAS,CACnD,UAAEI,MAAF,EAAc;AAAA,kBACgBA,MAAM,CAAE,mBAAF,CADtB;AAAA,QACLC,gBADK,WACLA,gBADK;;AAAA,mBAE6BD,MAAM,CAAE,aAAF,CAFnC;AAAA,QAELE,aAFK,YAELA,aAFK;AAAA,QAEUC,cAFV,YAEUA,cAFV;;AAIb,WAAO;AACNC,MAAAA,UAAU,EAAEF,aAAa,EADnB;AAENG,MAAAA,WAAW,EAAEF,cAAc,EAFrB;AAGNG,MAAAA,KAAK,EAAEL,gBAAgB,CAAEH,YAAF;AAHjB,KAAP;AAKA,GAVkD,EAWnD,CAAEA,YAAF,CAXmD,CADI;AAAA,MAChDM,UADgD,cAChDA,UADgD;AAAA,MACpCC,WADoC,cACpCA,WADoC;AAAA,MACvBC,KADuB,cACvBA,KADuB;;AAexD,MAAMC,YAAY,GAAG,SAAfA,YAAe,OAAgD;AAAA,QAA5CC,IAA4C,QAA5CA,IAA4C;AAAA,QAAtCC,iBAAsC,QAAtCA,iBAAsC;AAAA,QAAnBC,WAAmB,QAAnBA,WAAmB;AACpE,QAAMC,aAAa,GAAGjB,WAAW,CAChCc,IADgC,EAEhCC,iBAFgC,EAGhCd,mCAAmC,CAAEe,WAAF,CAHH,CAAjC;AAMAX,IAAAA,QAAQ,CAAEY,aAAF,CAAR;AACA,GARD;;AAUA,SAAO,CAAEL,KAAF,EAASF,UAAT,EAAqBC,WAArB,EAAkCE,YAAlC,CAAP;AACA,CA1BD;;AA4BA,eAAeV,kBAAf","sourcesContent":["/**\n * WordPress dependencies\n */\nimport {\n\tcreateBlock,\n\tcreateBlocksFromInnerBlocksTemplate,\n} from '@wordpress/blocks';\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Retrieves the block types inserter state.\n *\n * @param {string=}  rootClientId        Insertion's root client ID.\n * @param {Function} onInsert            function called when inserter a list of blocks.\n * @return {Array} Returns the block types state. (block types, categories, collections, onSelect handler)\n */\nconst useBlockTypesState = ( rootClientId, onInsert ) => {\n\tconst { categories, collections, items } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getInserterItems } = select( 'core/block-editor' );\n\t\t\tconst { getCategories, getCollections } = select( 'core/blocks' );\n\n\t\t\treturn {\n\t\t\t\tcategories: getCategories(),\n\t\t\t\tcollections: getCollections(),\n\t\t\t\titems: getInserterItems( rootClientId ),\n\t\t\t};\n\t\t},\n\t\t[ rootClientId ]\n\t);\n\n\tconst onSelectItem = ( { name, initialAttributes, innerBlocks } ) => {\n\t\tconst insertedBlock = createBlock(\n\t\t\tname,\n\t\t\tinitialAttributes,\n\t\t\tcreateBlocksFromInnerBlocksTemplate( innerBlocks )\n\t\t);\n\n\t\tonInsert( insertedBlock );\n\t};\n\n\treturn [ items, categories, collections, onSelectItem ];\n};\n\nexport default useBlockTypesState;\n"]}