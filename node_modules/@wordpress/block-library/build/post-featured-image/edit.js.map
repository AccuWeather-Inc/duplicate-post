{"version":3,"sources":["@wordpress/block-library/src/post-featured-image/edit.js"],"names":["placeholderChip","icon","PostFeaturedImageDisplay","isLink","attributes","setAttributes","context","postId","postType","featuredImage","media","select","getMedia","image","source_url","alt_text","PostFeaturedImageEdit","props"],"mappings":";;;;;;;;;;;;;AAGA;;AACA;;AACA;;AACA;;AACA;;AACA;;AARA;;;AAUA,IAAMA,eAAe,GACpB;AAAK,EAAA,SAAS,EAAC;AAAf,GACC,4BAAC,gBAAD;AAAM,EAAA,IAAI,EAAGC;AAAb,EADD,EAEC,4CAAM,cAAI,gBAAJ,CAAN,CAFD,CADD;;AAOA,SAASC,wBAAT,OAII;AAAA,MAHWC,MAGX,QAHHC,UAGG,CAHWD,MAGX;AAAA,MAFHE,aAEG,QAFHA,aAEG;AAAA,0BADHC,OACG;AAAA,MADQC,MACR,gBADQA,MACR;AAAA,MADgBC,QAChB,gBADgBA,QAChB;;AAAA,uBACuB,6BACzB,UADyB,EAEzBA,QAFyB,EAGzB,gBAHyB,EAIzBD,MAJyB,CADvB;AAAA;AAAA,MACKE,aADL;;AAOH,MAAMC,KAAK,GAAG,qBACb,UAAEC,MAAF;AAAA,WACCF,aAAa,IAAIE,MAAM,CAAE,MAAF,CAAN,CAAiBC,QAAjB,CAA2BH,aAA3B,CADlB;AAAA,GADa,EAGb,CAAEA,aAAF,CAHa,CAAd;AAKA,MAAMI,KAAK,GAAG,CAAEH,KAAF,GACbV,eADa,GAGb;AACC,IAAA,GAAG,EAAGU,KAAK,CAACI,UADb;AAEC,IAAA,GAAG,EAAGJ,KAAK,CAACK,QAAN,IAAkB,cAAI,yBAAJ;AAFzB,IAHD;AASA,SACC,qDACC,4BAAC,8BAAD,QACC,4BAAC,qBAAD;AAAW,IAAA,KAAK,EAAG,cAAI,eAAJ;AAAnB,KACC,4BAAC,yBAAD;AACC,IAAA,KAAK,EAAG,oBACP;AACA,kBAAI,YAAJ,CAFO,EAGPP,QAHO,CADT;AAMC,IAAA,QAAQ,EAAG;AAAA,aAAMH,aAAa,CAAE;AAAEF,QAAAA,MAAM,EAAE,CAAEA;AAAZ,OAAF,CAAnB;AAAA,KANZ;AAOC,IAAA,OAAO,EAAGA;AAPX,IADD,CADD,CADD,EAcC,mCAAU,iCAAV,EAA8BU,KAA9B,CAdD,CADD;AAkBA;;AAEc,SAASG,qBAAT,CAAgCC,KAAhC,EAAwC;AAAA;;AACtD,MAAK,oBAAEA,KAAK,CAACX,OAAR,mDAAE,eAAeC,MAAjB,CAAL,EAA+B;AAC9B,WAAOP,eAAP;AACA;;AACD,SAAO,4BAAC,wBAAD,EAA+BiB,KAA/B,CAAP;AACA","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { useEntityProp } from '@wordpress/core-data';\nimport { useSelect } from '@wordpress/data';\nimport { Icon, ToggleControl, PanelBody } from '@wordpress/components';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { postFeaturedImage as icon } from '@wordpress/icons';\nimport { InspectorControls, useBlockProps } from '@wordpress/block-editor';\n\nconst placeholderChip = (\n\t<div className=\"post-featured-image_placeholder\">\n\t\t<Icon icon={ icon } />\n\t\t<p> { __( 'Featured Image' ) }</p>\n\t</div>\n);\n\nfunction PostFeaturedImageDisplay( {\n\tattributes: { isLink },\n\tsetAttributes,\n\tcontext: { postId, postType },\n} ) {\n\tconst [ featuredImage ] = useEntityProp(\n\t\t'postType',\n\t\tpostType,\n\t\t'featured_media',\n\t\tpostId\n\t);\n\tconst media = useSelect(\n\t\t( select ) =>\n\t\t\tfeaturedImage && select( 'core' ).getMedia( featuredImage ),\n\t\t[ featuredImage ]\n\t);\n\tconst image = ! media ? (\n\t\tplaceholderChip\n\t) : (\n\t\t<img\n\t\t\tsrc={ media.source_url }\n\t\t\talt={ media.alt_text || __( 'No alternative text set' ) }\n\t\t/>\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody title={ __( 'Link settings' ) }>\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\tlabel={ sprintf(\n\t\t\t\t\t\t\t// translators: %s: Name of the post type e.g: \"post\".\n\t\t\t\t\t\t\t__( 'Link to %s' ),\n\t\t\t\t\t\t\tpostType\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tonChange={ () => setAttributes( { isLink: ! isLink } ) }\n\t\t\t\t\t\tchecked={ isLink }\n\t\t\t\t\t/>\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\t\t\t<div { ...useBlockProps() }>{ image }</div>\n\t\t</>\n\t);\n}\n\nexport default function PostFeaturedImageEdit( props ) {\n\tif ( ! props.context?.postId ) {\n\t\treturn placeholderChip;\n\t}\n\treturn <PostFeaturedImageDisplay { ...props } />;\n}\n"]}