{"version":3,"sources":["@wordpress/block-library/src/cover/save.js"],"names":["classnames","InnerBlocks","getColorClassName","__experimentalGetGradientClass","useBlockProps","IMAGE_BACKGROUND_TYPE","VIDEO_BACKGROUND_TYPE","backgroundImageStyles","dimRatioToClass","isContentPositionCenter","getPositionClassName","save","attributes","backgroundType","gradient","contentPosition","customGradient","customOverlayColor","dimRatio","focalPoint","hasParallax","isRepeated","overlayColor","url","minHeightProp","minHeight","minHeightUnit","overlayColorClass","gradientClass","isImageBackground","isVideoBackground","style","videoStyle","backgroundColor","background","undefined","positionValue","Math","round","x","y","backgroundPosition","objectPosition","classes","className"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tInnerBlocks,\n\tgetColorClassName,\n\t__experimentalGetGradientClass,\n\tuseBlockProps,\n} from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport {\n\tIMAGE_BACKGROUND_TYPE,\n\tVIDEO_BACKGROUND_TYPE,\n\tbackgroundImageStyles,\n\tdimRatioToClass,\n\tisContentPositionCenter,\n\tgetPositionClassName,\n} from './shared';\n\nexport default function save( { attributes } ) {\n\tconst {\n\t\tbackgroundType,\n\t\tgradient,\n\t\tcontentPosition,\n\t\tcustomGradient,\n\t\tcustomOverlayColor,\n\t\tdimRatio,\n\t\tfocalPoint,\n\t\thasParallax,\n\t\tisRepeated,\n\t\toverlayColor,\n\t\turl,\n\t\tminHeight: minHeightProp,\n\t\tminHeightUnit,\n\t} = attributes;\n\tconst overlayColorClass = getColorClassName(\n\t\t'background-color',\n\t\toverlayColor\n\t);\n\tconst gradientClass = __experimentalGetGradientClass( gradient );\n\tconst minHeight = minHeightUnit\n\t\t? `${ minHeightProp }${ minHeightUnit }`\n\t\t: minHeightProp;\n\n\tconst isImageBackground = IMAGE_BACKGROUND_TYPE === backgroundType;\n\tconst isVideoBackground = VIDEO_BACKGROUND_TYPE === backgroundType;\n\n\tconst style = isImageBackground ? backgroundImageStyles( url ) : {};\n\tconst videoStyle = {};\n\n\tif ( ! overlayColorClass ) {\n\t\tstyle.backgroundColor = customOverlayColor;\n\t}\n\n\tif ( customGradient && ! url ) {\n\t\tstyle.background = customGradient;\n\t}\n\tstyle.minHeight = minHeight || undefined;\n\n\tlet positionValue;\n\n\tif ( focalPoint ) {\n\t\tpositionValue = `${ Math.round( focalPoint.x * 100 ) }% ${ Math.round(\n\t\t\tfocalPoint.y * 100\n\t\t) }%`;\n\n\t\tif ( isImageBackground && ! hasParallax ) {\n\t\t\tstyle.backgroundPosition = positionValue;\n\t\t}\n\n\t\tif ( isVideoBackground ) {\n\t\t\tvideoStyle.objectPosition = positionValue;\n\t\t}\n\t}\n\n\tconst classes = classnames(\n\t\tdimRatioToClass( dimRatio ),\n\t\toverlayColorClass,\n\t\t{\n\t\t\t'has-background-dim': dimRatio !== 0,\n\t\t\t'has-parallax': hasParallax,\n\t\t\t'is-repeated': isRepeated,\n\t\t\t'has-background-gradient': gradient || customGradient,\n\t\t\t[ gradientClass ]: ! url && gradientClass,\n\t\t\t'has-custom-content-position': ! isContentPositionCenter(\n\t\t\t\tcontentPosition\n\t\t\t),\n\t\t},\n\t\tgetPositionClassName( contentPosition )\n\t);\n\n\treturn (\n\t\t<div { ...useBlockProps.save( { className: classes, style } ) }>\n\t\t\t{ url && ( gradient || customGradient ) && dimRatio !== 0 && (\n\t\t\t\t<span\n\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t'wp-block-cover__gradient-background',\n\t\t\t\t\t\tgradientClass\n\t\t\t\t\t) }\n\t\t\t\t\tstyle={\n\t\t\t\t\t\tcustomGradient\n\t\t\t\t\t\t\t? { background: customGradient }\n\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ isVideoBackground && url && (\n\t\t\t\t<video\n\t\t\t\t\tclassName=\"wp-block-cover__video-background\"\n\t\t\t\t\tautoPlay\n\t\t\t\t\tmuted\n\t\t\t\t\tloop\n\t\t\t\t\tplaysInline\n\t\t\t\t\tsrc={ url }\n\t\t\t\t\tstyle={ videoStyle }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t<div className=\"wp-block-cover__inner-container\">\n\t\t\t\t<InnerBlocks.Content />\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n"]}