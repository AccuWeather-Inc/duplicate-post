{"version":3,"sources":["@wordpress/components/src/color-edit/index.js"],"names":["DropdownOpenOnMount","shouldOpen","isOpen","onToggle","ColorOption","color","name","slug","onChange","onRemove","onConfirm","confirmLabel","isEditingNameOnMount","isEditingColorOnMount","onCancel","isHover","setIsHover","isFocused","setIsFocused","isEditingName","setIsEditingName","isShowingAdvancedPanel","setIsShowingAdvancedPanel","isShowingControls","backgroundColor","newColor","hex","newColorName","edit","close","chevronUp","chevronDown","newSlug","ColorInserter","onInsert","setColor","ColorEdit","colors","emptyUI","isInsertingColor","setIsInsertingColor","plus","map","index","currentColor","currentIndex","filter","_currentColor"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport { isEmpty, kebabCase } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport { useEffect, useState } from '@wordpress/element';\nimport { edit, close, chevronDown, chevronUp, plus } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport Dropdown from '../dropdown';\nimport CircularOptionPicker from '../circular-option-picker';\nimport ColorPicker from '../color-picker';\nimport Button from '../button';\nimport TextControl from '../text-control';\nimport BaseControl from '../base-control';\n\nfunction DropdownOpenOnMount( { shouldOpen, isOpen, onToggle } ) {\n\tuseEffect( () => {\n\t\tif ( shouldOpen && ! isOpen ) {\n\t\t\tonToggle();\n\t\t}\n\t}, [] );\n\treturn null;\n}\n\nfunction ColorOption( {\n\tcolor,\n\tname,\n\tslug,\n\tonChange,\n\tonRemove,\n\tonConfirm,\n\tconfirmLabel = __( 'OK' ),\n\tisEditingNameOnMount = false,\n\tisEditingColorOnMount = false,\n\tonCancel,\n} ) {\n\tconst [ isHover, setIsHover ] = useState( false );\n\tconst [ isFocused, setIsFocused ] = useState( false );\n\tconst [ isEditingName, setIsEditingName ] = useState(\n\t\tisEditingNameOnMount\n\t);\n\tconst [ isShowingAdvancedPanel, setIsShowingAdvancedPanel ] = useState(\n\t\tfalse\n\t);\n\n\tconst isShowingControls =\n\t\tisHover || isFocused || isEditingName || isShowingAdvancedPanel;\n\n\treturn (\n\t\t<div\n\t\t\ttabIndex={ 0 }\n\t\t\tclassName={ classnames( 'components-color-edit__color-option', {\n\t\t\t\t'is-hover':\n\t\t\t\t\tisHover && ! isEditingName && ! isShowingAdvancedPanel,\n\t\t\t} ) }\n\t\t\tonMouseEnter={ () => setIsHover( true ) }\n\t\t\tonMouseLeave={ () => setIsHover( false ) }\n\t\t\tonFocus={ () => setIsFocused( true ) }\n\t\t\tonBlur={ () => setIsFocused( false ) }\n\t\t\taria-label={\n\t\t\t\tname\n\t\t\t\t\t? // translators: %s: The name of the color e.g: \"vivid red\".\n\t\t\t\t\t  sprintf( __( 'Color: %s' ), name )\n\t\t\t\t\t: // translators: %s: color hex code e.g: \"#f00\".\n\t\t\t\t\t  sprintf( __( 'Color code: %s' ), color )\n\t\t\t}\n\t\t>\n\t\t\t<div className=\"components-color-edit__color-option-main-area\">\n\t\t\t\t<Dropdown\n\t\t\t\t\trenderToggle={ ( { isOpen, onToggle } ) => (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<DropdownOpenOnMount\n\t\t\t\t\t\t\t\tshouldOpen={ isEditingColorOnMount }\n\t\t\t\t\t\t\t\tisOpen={ isOpen }\n\t\t\t\t\t\t\t\tonToggle={ onToggle }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<CircularOptionPicker.Option\n\t\t\t\t\t\t\t\tstyle={ { backgroundColor: color, color } }\n\t\t\t\t\t\t\t\taria-expanded={ isOpen }\n\t\t\t\t\t\t\t\taria-haspopup=\"true\"\n\t\t\t\t\t\t\t\tonClick={ onToggle }\n\t\t\t\t\t\t\t\taria-label={ __( 'Edit color value' ) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</>\n\t\t\t\t\t) }\n\t\t\t\t\trenderContent={ () => (\n\t\t\t\t\t\t<ColorPicker\n\t\t\t\t\t\t\tcolor={ color }\n\t\t\t\t\t\t\tonChangeComplete={ ( newColor ) =>\n\t\t\t\t\t\t\t\tonChange( {\n\t\t\t\t\t\t\t\t\tcolor: newColor.hex,\n\t\t\t\t\t\t\t\t\tslug,\n\t\t\t\t\t\t\t\t\tname,\n\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tdisableAlpha\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t/>\n\t\t\t\t{ ! isEditingName && (\n\t\t\t\t\t<div className=\"components-color-edit__color-option-color-name\">\n\t\t\t\t\t\t{ name }\n\t\t\t\t\t</div>\n\t\t\t\t) }\n\t\t\t\t{ isEditingName && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\tclassName=\"components-color-edit__color-option-color-name-input\"\n\t\t\t\t\t\t\thideLabelFromVision\n\t\t\t\t\t\t\tonChange={ ( newColorName ) =>\n\t\t\t\t\t\t\t\tonChange( {\n\t\t\t\t\t\t\t\t\tcolor,\n\t\t\t\t\t\t\t\t\tslug: kebabCase( newColorName ),\n\t\t\t\t\t\t\t\t\tname: newColorName,\n\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlabel={ __( 'Color name' ) }\n\t\t\t\t\t\t\tplaceholder={ __( 'Name' ) }\n\t\t\t\t\t\t\tvalue={ name }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\tsetIsEditingName( false );\n\t\t\t\t\t\t\t\tsetIsFocused( false );\n\t\t\t\t\t\t\t\tif ( onConfirm ) {\n\t\t\t\t\t\t\t\t\tonConfirm();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\tisPrimary\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ confirmLabel }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</>\n\t\t\t\t) }\n\t\t\t\t{ ! isEditingName && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tclassName={ classnames( {\n\t\t\t\t\t\t\t\t'components-color-edit__hidden-control': ! isShowingControls,\n\t\t\t\t\t\t\t} ) }\n\t\t\t\t\t\t\ticon={ edit }\n\t\t\t\t\t\t\tlabel={ __( 'Edit color name' ) }\n\t\t\t\t\t\t\tonClick={ () => setIsEditingName( true ) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tclassName={ classnames( {\n\t\t\t\t\t\t\t\t'components-color-edit__hidden-control': ! isShowingControls,\n\t\t\t\t\t\t\t} ) }\n\t\t\t\t\t\t\ticon={ close }\n\t\t\t\t\t\t\tlabel={ __( 'Remove color' ) }\n\t\t\t\t\t\t\tonClick={ onRemove }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</>\n\t\t\t\t) }\n\t\t\t\t<Button\n\t\t\t\t\tclassName={ classnames( {\n\t\t\t\t\t\t'components-color-edit__hidden-control': ! isShowingControls,\n\t\t\t\t\t} ) }\n\t\t\t\t\ticon={ isShowingAdvancedPanel ? chevronUp : chevronDown }\n\t\t\t\t\tlabel={ __( 'Additional color settings' ) }\n\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\tif ( isShowingAdvancedPanel ) {\n\t\t\t\t\t\t\tsetIsFocused( false );\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsetIsShowingAdvancedPanel( ! isShowingAdvancedPanel );\n\t\t\t\t\t} }\n\t\t\t\t\taria-expanded={ isShowingAdvancedPanel }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t{ onCancel && (\n\t\t\t\t<Button\n\t\t\t\t\tclassName=\"components-color-edit__cancel-button\"\n\t\t\t\t\tonClick={ onCancel }\n\t\t\t\t>\n\t\t\t\t\t{ __( 'Cancel' ) }\n\t\t\t\t</Button>\n\t\t\t) }\n\t\t\t{ isShowingAdvancedPanel && (\n\t\t\t\t<TextControl\n\t\t\t\t\tclassName=\"components-color-edit__slug-input\"\n\t\t\t\t\tonChange={ ( newSlug ) =>\n\t\t\t\t\t\tonChange( {\n\t\t\t\t\t\t\tcolor,\n\t\t\t\t\t\t\tslug: newSlug,\n\t\t\t\t\t\t\tname,\n\t\t\t\t\t\t} )\n\t\t\t\t\t}\n\t\t\t\t\tlabel={ __( 'Slug' ) }\n\t\t\t\t\tvalue={ slug }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</div>\n\t);\n}\n\nfunction ColorInserter( { onInsert, onCancel } ) {\n\tconst [ color, setColor ] = useState( {\n\t\tcolor: '#fff',\n\t\tname: '',\n\t\tslug: '',\n\t} );\n\treturn (\n\t\t<ColorOption\n\t\t\tcolor={ color.color }\n\t\t\tname={ color.name }\n\t\t\tslug={ color.slug }\n\t\t\tonChange={ setColor }\n\t\t\tconfirmLabel={ __( 'Save' ) }\n\t\t\tonConfirm={ () => onInsert( color ) }\n\t\t\tisEditingNameOnMount\n\t\t\tisEditingColorOnMount\n\t\t\tonCancel={ onCancel }\n\t\t/>\n\t);\n}\n\nexport default function ColorEdit( { colors, onChange, emptyUI } ) {\n\tconst [ isInsertingColor, setIsInsertingColor ] = useState( false );\n\treturn (\n\t\t<BaseControl>\n\t\t\t<fieldset>\n\t\t\t\t<div className=\"components-color-edit__label-and-insert-container\">\n\t\t\t\t\t<legend>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<BaseControl.VisualLabel>\n\t\t\t\t\t\t\t\t{ __( 'Color palette' ) }\n\t\t\t\t\t\t\t</BaseControl.VisualLabel>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</legend>\n\t\t\t\t\t{ ! isInsertingColor && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\tsetIsInsertingColor( true );\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\tclassName=\"components-color-edit__insert-button\"\n\t\t\t\t\t\t\ticon={ plus }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t{ ! isEmpty( colors ) &&\n\t\t\t\t\t\tcolors.map( ( color, index ) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<ColorOption\n\t\t\t\t\t\t\t\t\tkey={ index }\n\t\t\t\t\t\t\t\t\tcolor={ color.color }\n\t\t\t\t\t\t\t\t\tname={ color.name }\n\t\t\t\t\t\t\t\t\tslug={ color.slug }\n\t\t\t\t\t\t\t\t\tonChange={ ( newColor ) => {\n\t\t\t\t\t\t\t\t\t\tonChange(\n\t\t\t\t\t\t\t\t\t\t\tcolors.map(\n\t\t\t\t\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t\t\t\t\tcurrentColor,\n\t\t\t\t\t\t\t\t\t\t\t\t\tcurrentIndex\n\t\t\t\t\t\t\t\t\t\t\t\t) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcurrentIndex === index\n\t\t\t\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn newColor;\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn currentColor;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\tonRemove={ () => {\n\t\t\t\t\t\t\t\t\t\tonChange(\n\t\t\t\t\t\t\t\t\t\t\tcolors.filter(\n\t\t\t\t\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t\t\t\t\t_currentColor,\n\t\t\t\t\t\t\t\t\t\t\t\t\tcurrentIndex\n\t\t\t\t\t\t\t\t\t\t\t\t) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcurrentIndex === index\n\t\t\t\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} ) }\n\t\t\t\t\t{ isInsertingColor && (\n\t\t\t\t\t\t<ColorInserter\n\t\t\t\t\t\t\tonInsert={ ( newColor ) => {\n\t\t\t\t\t\t\t\tsetIsInsertingColor( false );\n\t\t\t\t\t\t\t\tonChange( [ ...( colors || [] ), newColor ] );\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\tonCancel={ () => setIsInsertingColor( false ) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t\t{ ! isInsertingColor && isEmpty( colors ) && emptyUI }\n\t\t\t\t</div>\n\t\t\t</fieldset>\n\t\t</BaseControl>\n\t);\n}\n"]}